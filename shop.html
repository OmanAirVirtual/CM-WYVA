<div id="nav"></div>
<div class="container" id="shop"></div>

<script type="module">
import {supabase} from './supabase.js'

const types=[
["B737",10000],
["A330",12000]
]

types.forEach(t=>{
 const d=document.createElement("div")
 d.className="card"
 d.innerHTML=`${t[0]} $${t[1]} 
 <button onclick="req('${t[0]}',${t[1]})">Buy</button>`
 shop.appendChild(d)
})

window.req=async(name,price)=>{
 const {data:{user}}=await supabase.auth.getUser()
 await supabase.from("type_requests")
 .insert([{pilot_email:user.email,type_name:name,price}])
 alert("Requested")
}
</script>
